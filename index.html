<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Bingo Challenge</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <style>
        @import url('https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css');
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 50;
            font-size: 4rem;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
            40%, 43% { transform: translateY(-30px); }
            70% { transform: translateY(-15px); }
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 40;
        }
        
        .bingo-box {
            background-color: #374151;
            border: 1px solid #4B5563;
            border-radius: 0.5rem;
            padding: 1rem;
            min-height: 8rem;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
        }
        
        .bingo-box:hover {
            background-color: #4B5563;
        }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen">
    <div id="celebration" class="celebration" style="display: none;">
        ğŸ‰ğŸ†ğŸŠâœ¨ğŸ¥³ğŸğŸŒŸğŸ’«ğŸˆğŸ‰
    </div>

    <div class="max-w-4xl mx-auto p-4">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-4">ğŸ¯ LinkedIn Bingo Challenge</h1>
            <div class="text-lg mb-6 leading-relaxed">
                <p>Tired of seeing the same posts on LinkedIn? Play LinkedIn Bingo by tracking the wildest (or most relatable) posts you see. Paste the post link in the matching box below. Once you get 4 in a row, or a full house hit Submit Bingo ğŸ‰</p>
                <br>
                <p>ğŸŸ© Each tile = a type of post.</p>
                <p>âœ… Filling it = copying a real LinkedIn post that fits.</p>
                <p>ğŸ Prizes, yes there are real prizes + bragging rights.</p>
            </div>
        </div>

        <!-- Player Info -->
        <div class="mb-8 space-y-4">
            <div>
                <label class="block text-lg mb-2">ğŸ‘¤ Your name</label>
                <input type="text" id="playerName" class="w-full p-3 bg-gray-800 border border-gray-600 rounded text-white" placeholder="Enter your name">
            </div>
            <div>
                <label class="block text-lg mb-2">âœ‰ï¸ Your email</label>
                <input type="email" id="playerEmail" class="w-full p-3 bg-gray-800 border border-gray-600 rounded text-white" placeholder="Enter your email">
            </div>
        </div>

        <!-- Bingo Grid -->
        <div id="bingoGrid" class="grid-container mb-8">
            <!-- Grid items will be generated by JavaScript -->
        </div>

        <!-- Submit Button -->
        <div class="text-center">
            <button id="submitBingo" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-lg text-xl font-bold transition-all transform hover:scale-105">
                ğŸ‰ Submit My Bingo & Enter to Win!
            </button>
        </div>

        <!-- Debug Info -->
        <div id="debugInfo" class="mt-8 text-xs text-gray-500 text-center">
            Completed: 0/16 | Win Status: None
        </div>
    </div>

    <!-- URL Input Modal -->
    <div id="urlModal" class="modal" style="display: none;">
        <div class="bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4">
            <h3 class="text-xl mb-4">ğŸ“ Add LinkedIn Post URL</h3>
            <p id="modalCategory" class="text-sm text-gray-300 mb-4"></p>
            <input type="url" id="urlInput" class="w-full p-3 bg-gray-700 border border-gray-600 rounded text-white mb-4" placeholder="https://www.linkedin.com/posts/...">
            <div class="flex gap-3">
                <button id="submitUrl" class="flex-1 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-semibold">âœ… Submit</button>
                <button id="cancelUrl" class="flex-1 bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded">âŒ Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Game state
        let playerName = '';
        let playerEmail = '';
        let activeBox = null;
        let cardData = {};
        
        const bingoCategories = [
            'ğŸ’¼ "I\'m thrilled to announce..."',
            'ğŸ’” "Got laid off â€” here\'s what\'s next" (resilience arc)',
            'ğŸ›« "Quit my job to travel the world" (Bali phase unlocked)',
            'ğŸ† "Humbled and honored" (aka award flex)',
            'ğŸ“ˆ "From burnout to 6 figures" (thread incoming)',
            'ğŸ’¡ Thought leadership (aka âœ¨vibesâœ¨ & vagueness)',
            'ğŸ” Repost of a viral quote post with: "This. ğŸ”¥"',
            'ğŸ—£ï¸ "Unpopular opinion butâ€¦" (actually very popular)',
            'ğŸ‘©â€ğŸ« "Here\'s how I use ChatGPT daily" (we get it)',
            'ğŸ«¶ "Shoutout to my amazing team!" (pic is just them)',
            'ğŸ¤ Networking hack that changed my life',
            'ğŸ¥² "My first post got 3 likes. Now I\'m at 30K followers."',
            'ğŸ§  Carousel called: "10 things I wish I knew at 25"',
            'ğŸ§˜ "Here\'s what I learned from failingâ€¦ again"',
            'âœ¨ Just a lil rebrand (aka new pfp + header update)',
            'ğŸ§Š "Coffee chat?" (with absolutely no context)'
        ];

        // Initialize the game
        function initGame() {
            createBingoGrid();
            setupEventListeners();
        }

        function createBingoGrid() {
            const grid = document.getElementById('bingoGrid');
            grid.innerHTML = '';
            
            bingoCategories.forEach((category, index) => {
                const box = document.createElement('div');
                box.className = 'bingo-box';
                box.onclick = () => handleBoxClick(index);
                
                box.innerHTML = `
                    <div class="text-sm leading-tight">${category}</div>
                    <div class="text-center mt-2">
                        <div class="text-2xl text-gray-500">â•</div>
                    </div>
                `;
                
                grid.appendChild(box);
            });
        }

        function setupEventListeners() {
            document.getElementById('playerName').addEventListener('input', (e) => {
                playerName = e.target.value;
            });
            
            document.getElementById('playerEmail').addEventListener('input', (e) => {
                playerEmail = e.target.value;
            });
            
            document.getElementById('submitUrl').addEventListener('click', handleUrlSubmit);
            document.getElementById('cancelUrl').addEventListener('click', () => {
                document.getElementById('urlModal').style.display = 'none';
                activeBox = null;
            });
            
            document.getElementById('submitBingo').addEventListener('click', handleSubmitBingo);
        }

        function validateLinkedInUrl(url) {
            const linkedinPatterns = [
                /^https:\/\/(?:www\.)?linkedin\.com\/posts\/.+/,
                /^https:\/\/(?:www\.)?linkedin\.com\/feed\/update\/.+/,
                /^https:\/\/(?:www\.)?linkedin\.com\/in\/.+\/recent-activity\/.+/
            ];
            return linkedinPatterns.some(pattern => pattern.test(url));
        }

        function checkForWin(newCardData) {
            const completedBoxes = Object.keys(newCardData).map(key => parseInt(key));
            
            // Check rows
            for (let row = 0; row < 4; row++) {
                const rowBoxes = [row * 4, row * 4 + 1, row * 4 + 2, row * 4 + 3];
                if (rowBoxes.every(box => completedBoxes.includes(box))) {
                    return 'row';
                }
            }
            
            // Check columns
            for (let col = 0; col < 4; col++) {
                const colBoxes = [col, col + 4, col + 8, col + 12];
                if (colBoxes.every(box => completedBoxes.includes(box))) {
                    return 'column';
                }
            }
            
            // Check diagonals
            const diagonal1 = [0, 5, 10, 15];
            const diagonal2 = [3, 6, 9, 12];
            if (diagonal1.every(box => completedBoxes.includes(box)) || 
                diagonal2.every(box => completedBoxes.includes(box))) {
                return 'diagonal';
            }
            
            // Check full house
            if (completedBoxes.length === 16) {
                return 'fullhouse';
            }
            
            return null;
        }

        function handleBoxClick(index) {
            if (cardData[index]?.completed) return;
            
            activeBox = index;
            document.getElementById('modalCategory').textContent = `Category: ${bingoCategories[index]}`;
            document.getElementById('urlInput').value = '';
            document.getElementById('urlModal').style.display = 'flex';
            document.getElementById('urlInput').focus();
        }

        function handleUrlSubmit() {
            const urlInput = document.getElementById('urlInput').value;
            
            if (!urlInput.trim()) {
                alert('Please enter a LinkedIn URL');
                return;
            }

            if (!validateLinkedInUrl(urlInput)) {
                alert('Please enter a valid LinkedIn post URL (e.g., https://www.linkedin.com/posts/...)');
                return;
            }

            cardData[activeBox] = {
                completed: true,
                url: urlInput,
                timestamp: new Date().toISOString()
            };

            updateBingoBox(activeBox);
            
            // Check for win
            const win = checkForWin(cardData);
            if (win) {
                triggerCelebration();
            }
            
            updateDebugInfo();
            document.getElementById('urlModal').style.display = 'none';
            activeBox = null;
        }

        function updateBingoBox(index) {
            const boxes = document.querySelectorAll('.bingo-box');
            const box = boxes[index];
            const iconDiv = box.querySelector('.text-center > div');
            iconDiv.innerHTML = '<div class="text-4xl">ğŸ˜Š</div>';
        }

        function triggerCelebration() {
            const celebration = document.getElementById('celebration');
            celebration.style.display = 'flex';
            setTimeout(() => {
                celebration.style.display = 'none';
            }, 3000);
        }

        function updateDebugInfo() {
            const completedCount = Object.keys(cardData).length;
            const winStatus = checkForWin(cardData) || 'None';
            document.getElementById('debugInfo').textContent = `Completed: ${completedCount}/16 | Win Status: ${winStatus}`;
        }

        function handleSubmitBingo() {
            if (!playerName.trim() || !playerEmail.trim()) {
                alert('Please enter your name and email before submitting!');
                return;
            }

            const completedBoxes = Object.keys(cardData).length;
            const winStatus = checkForWin(cardData);
            
            if (!winStatus) {
                alert('You need to get 4 in a row or complete all boxes to submit your bingo!');
                return;
            }

            // Prepare data for submission
            const submissionData = {
                playerName,
                playerEmail,
                timestamp: new Date().toISOString(),
                winType: winStatus,
                completedBoxes,
                cardData: Object.keys(cardData).map(index => ({
                    category: bingoCategories[parseInt(index)],
                    url: cardData[index].url,
                    completedAt: cardData[index].timestamp
                }))
            };

            console.log('Bingo submission data:', submissionData);
            
            // Send to Make.com webhook
fetch(https://hook.eu2.make.com/ov247cy7b2qhdz1noqsy112f539hsp7v, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(submissionData)
})
.then(response => response.json())
.then(data => {
    console.log('Success:', data);
    alert('ğŸ‰ Congratulations! Your bingo card has been submitted successfully! Good luck with the prizes! ğŸ†');
})
.catch((error) => {
    console.error('Error:', error);
    alert('There was an issue submitting your bingo card. Please try again!');
});

        // Initialize the game when page loads
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
